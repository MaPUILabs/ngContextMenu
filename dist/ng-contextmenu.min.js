/*! ng-contextmenu by Adam Timberlake <adam.timberlake@gmail.com> created on 2017-02-28 */
!function(a,b){"use strict";var c=a.module("ngContextMenu",[]),d=1;c.factory("contextMenu",["$rootScope",function(a){function b(){a.$broadcast("context-menu/close")}return{cancelAll:b,eventBound:!1}}]),c.directive("contextMenu",["$timeout","$interpolate","$compile","contextMenu","$templateRequest","$sce","$parse",function(c,e,f,g,h,i,j){return{restrict:"EA",scope:!0,require:"?ngModel",link:function(c,k,l,m){function n(){c.menu&&(k[0].classList.remove("ngContextMenuIsOpen"),q&&q(c),c.contextMenuIsOpen&&(c.contextMenuIsOpen.status=!1),c.menu.remove(),c.menu=null,c.position=null)}function o(){return m?a.extend(c,m.$modelValue):c}function p(d,j){if(j=j||"append","preventDefault"in d)g.cancelAll(),d.stopPropagation(),d.preventDefault(),c.position={x:d.pageX,y:d.pageY};else if(!c.menu)return;h(i.getTrustedResourceUrl(l.contextMenu)).then(function(d){k[0].className+=" ngContextMenuIsOpen",q&&q(c),c.contextMenuIsOpen&&(c.contextMenuIsOpen.status=!0);var g=f(d)(a.extend(o())),h=a.element(g);switch(j){case"append":angular.element(b.body).append(h);break;default:c.menu.replaceWith(h)}h.css({position:l.contextMenuPosition||"fixed",top:0,left:0,transform:e("translate({{x}}px, {{y}}px)")({x:c.position.x,y:c.position.y})}),c.menu=h,c.menu.bind("click",n)})}var q=j(l.contextMenuCallback,null,null);if(c.contextMenuIsOpen=c.$eval(l.contextMenuIsOpen),c.contextMenuIsOpen&&c.$watch("contextMenuIsOpen.status",function(a,b){b&&!a&&c.menu&&n()}),g.eventBound||(b.addEventListener("click",function(a){a.which===d&&(g.cancelAll(),c.$apply())}),g.eventBound=!0),c.$on("context-menu/close",n),c.$on("$destroy",n),m){var r=function(){return m.$modelValue};c.$watch(r,function(){p({},"replaceWith")},!0)}k.bind(l.contextEvent||"contextmenu",p)}}}])}(window.angular,window.document);